<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¨è–¦é£›ä¾†ç™¼</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <style>
        body { font-family: -apple-system, sans-serif; text-align: center; padding: 40px 20px; background: #fff; color: #333; }
        .logo { width: 80px; height: 80px; border-radius: 50%; margin-bottom: 20px; border: 2px solid #d32f2f; }
        .title { font-size: 22px; font-weight: bold; margin-bottom: 10px; color: #d32f2f; }
        .desc { color: #666; margin-bottom: 30px; line-height: 1.6; font-size: 16px; }
        .btn-share { background: #00b900; color: white; padding: 18px; border-radius: 35px; text-decoration: none; display: block; font-weight: bold; font-size: 18px; border: none; width: 100%; cursor: pointer; box-shadow: 0 4px 15px rgba(0,185,0,0.3); }
        .btn-share:active { background: #009000; transform: scale(0.98); }
        #status { font-size: 12px; color: #999; margin-top: 15px; }
    </style>
</head>
<body>
    <img src="https://xcxc226631-coder.github.io/feilaifa-booking/logo.png" class="logo" onerror="this.src='https://cdn-icons-png.flaticon.com/512/2099/2099122.png'">
    
    <div class="title">ğŸ€„ï¸ æ¨è–¦é£›ä¾†ç™¼è»ŠéšŠ ğŸ€„ï¸</div>
    <div class="desc">è¦ºå¾—æˆ‘å€‘çš„é ç´„æœå‹™å¾ˆæ–¹ä¾¿å—ï¼Ÿ<br>é»æ“ŠæŒ‰éˆ•åˆ†äº«çµ¦å¥½å‹<br>è®“å¤§å®¶ä¸€èµ·äº«å—å„ªè³ªæ¥é€ï¼</div>
    
    <button class="btn-share" id="shareBtn">ç«‹å³é¸æ“‡å¥½å‹åˆ†äº«</button>
    <div id="status">ç³»çµ±åˆå§‹åŒ–ä¸­...</div>

    <script>
        async function main() {
            try {
                // 1. åˆå§‹åŒ– LIFF (è«‹ç¢ºèª ID æ˜¯å¦æ­£ç¢º)
                await liff.init({ liffId: "2009263508-0qU0PuCk" });
                document.getElementById('status').innerText = "ç³»çµ±å°±ç·’";

                document.getElementById('shareBtn').addEventListener('click', async () => {
                    // 2. æª¢æŸ¥æ˜¯å¦å…·å‚™åˆ†äº«æ¬Šé™
                    if (liff.isApiAvailable('shareTargetPicker')) {
                        try {
                            // 3. å‘¼å«å®˜æ–¹åˆ†äº«è¦–çª—
                            const result = await liff.shareTargetPicker([
                                {
                                    type: "text",
                                    text: "ğŸ€„ï¸ æ¨è–¦æ‚¨å„ªè³ªçš„ã€Œé£›ä¾†ç™¼è»ŠéšŠã€\né€™å®¶çš„é ç´„ç³»çµ±è¶…å¥½ç”¨ï¼Œæ¨è–¦çµ¦ä½ ï¼\né»æ­¤åŠ å…¥å¥½å‹ï¼šhttps://line.me/R/ti/p/@636gbfpe"
                                }
                            ]);

                            if (result) {
                                // 4. åˆ†äº«æˆåŠŸå¾Œçš„é€šçŸ¥æ©Ÿåˆ¶
                                await liff.sendMessages([{
                                    type: 'text',
                                    text: 'ğŸ“¢ æˆ‘å·²æˆåŠŸæ¨è–¦ã€Œé£›ä¾†ç™¼è»ŠéšŠã€çµ¦æœ‹å‹äº†ï¼'
                                }]);
                                alert("åˆ†äº«æˆåŠŸï¼æ„Ÿè¬æ‚¨çš„æ¨è–¦ã€‚");
                                liff.closeWindow();
                            }
                        } catch (error) {
                            alert("åˆ†äº«å·²è¢«å–æ¶ˆæˆ–ç™¼ç”ŸéŒ¯èª¤");
                        }
                    } else {
                        alert("ç›®å‰ç‰ˆæœ¬ä¸æ”¯æ´åˆ†äº«åŠŸèƒ½ï¼Œè«‹æ›´æ–° LINEã€‚");
                    }
                });
            } catch (err) {
                document.getElementById('status').innerText = "åˆå§‹åŒ–å¤±æ•—";
            }
        }
        main();
    </script>
</body>
</html>
